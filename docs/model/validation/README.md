# üéÇCakeReact: ‚úÖValidation

–°–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–∞ CakePHP –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä—è–º–æ –≤ –º–æ–¥–µ–ª–∏.

## 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –º–æ–¥–µ–ª–∏

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –º–µ—Ç–æ–¥ `validationDefault` –≤ –≤–∞—à–µ–º –∫–ª–∞—Å—Å–µ –º–æ–¥–µ–ª–∏:

```javascript
import { BaseModel } from '@cakereact/core';

export class ProductModel extends BaseModel {
    table = 'products';

    validationDefault(validator) {
        validator
            .add('name', 'notEmpty', { message: '–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ' })
            .add('name', 'minLength', { 
                params: 3, 
                message: '–ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞' 
            })
            .add('barcode', 'barcode', { message: '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —à—Ç—Ä–∏—Ö–∫–æ–¥–∞' })
            .add('price', 'numeric', { message: '–¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∏—Å–ª–æ–º' });

        return validator;
    }
}
```

## 2. –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
 - `notEmpty`: –ü–æ–ª–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç—ã–º.

 - `email`: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –ø–æ—á—Ç—ã.

 - `numeric`: –¢–æ–ª—å–∫–æ —á–∏—Å–ª–∞.

 - `minLength / maxLength`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫–∏.

- `barcode`: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —à—Ç—Ä–∏—Ö–∫–æ–¥–∞ (8-14 —Ü–∏—Ñ—Ä).

## 3. –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
–í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞–ø—Ä—è–º—É—é –≤ –º–µ—Ç–æ–¥ `add`:
```javascript
validator.add('promo_code', (value, allData) => {
    return value === 'CAKE2024';
}, { message: '–ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥' });
```
## 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ UI
–ü—Ä–∏ –≤—ã–∑–æ–≤–µ `controller.save()` –≤ —Å–ª—É—á–∞–µ –Ω–µ—É–¥–∞—á–∏ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Å —Ç–∏–ø–æ–º `ValidationError`.
```javascript
try {
    await controller.save();
} catch (err) {
    if (err.type === 'ValidationError') {
        console.log(err.errors); // { name: ['–ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞'], ... }
    }
}
```

---